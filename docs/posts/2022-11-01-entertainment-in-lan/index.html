<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="文章不会详细说明具体软件的使用方式，自行摸索。 本文中提到的编辑软件，只在 Mac 环境下使用过，但几个软件都是多平台的。 一、影视 需要用到的软件： 视频" />
<meta name="keywords" content=", life" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://0x1.im/posts/2022-11-01-entertainment-in-lan/" />


    <title>
        
            局域网影视&#43;音乐&#43;图书服务自建 :: Scholer&#39;s Pages 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.d1ea4af8fd04fb24a4f8b882ea54bd04eb245427ca4baf527c81a5dab071410b.css">






<meta itemprop="name" content="局域网影视&#43;音乐&#43;图书服务自建">
<meta itemprop="description" content="文章不会详细说明具体软件的使用方式，自行摸索。 本文中提到的编辑软件，只在 Mac 环境下使用过，但几个软件都是多平台的。 一、影视 需要用到的软件： 视频"><meta itemprop="datePublished" content="2022-11-01T12:53:40+00:00" />
<meta itemprop="dateModified" content="2022-11-01T12:53:40+00:00" />
<meta itemprop="wordCount" content="1660">
<meta itemprop="keywords" content="life," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="局域网影视&#43;音乐&#43;图书服务自建"/>
<meta name="twitter:description" content="文章不会详细说明具体软件的使用方式，自行摸索。 本文中提到的编辑软件，只在 Mac 环境下使用过，但几个软件都是多平台的。 一、影视 需要用到的软件： 视频"/>







    <meta property="article:published_time" content="2022-11-01 12:53:40 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://0x1.im" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">$</span>
            <span class="logo__text">echo 0x1.im</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://0x1.im/posts/">Posts</a></li><li><a href="https://0x1.im/tags/">Tags</a></li><li><a href="https://0x1.im/about/">About</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        4 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://0x1.im/posts/2022-11-01-entertainment-in-lan/">局域网影视+音乐+图书服务自建</a>
      </h1>

      

      <div class="post-content">
        <p>文章不会详细说明具体软件的使用方式，自行摸索。</p>
<p>本文中提到的编辑软件，只在 Mac 环境下使用过，但几个软件都是多平台的。</p>
<h3 id="一影视">一、影视</h3>
<p>需要用到的软件：</p>
<ul>
<li>视频刮削：<a href="https://www.tinymediamanager.org/">tinymediamanager</a></li>
<li>播放器：<a href="https://kodi.tv/">Kodi</a></li>
<li>视频编辑器：<a href="https://ffmpeg.org/">ffmpeg</a></li>
</ul>
<h4 id="资料网站tmdbhttpswwwthemoviedborg">资料网站：<a href="https://www.themoviedb.org/">TMDB</a></h4>
<p>优点：免费可公开注册，提供API，较好的中文支持。另外这也相当于是个电影发现站。tinymediamanager 可以选择从这里获取视频信息。
一般确定一个视频的是否有完整的资料，我会先上这个网站上去看一下。</p>
<h4 id="视频刮削tinymediamanagerhttpswwwtinymediamanagerorg">视频刮削：<a href="https://www.tinymediamanager.org/">tinymediamanager</a></h4>
<p>tmm 是个基于 Java 的程序，可以从几个公开的视频资料站下载信息，并将视频按照特定的目录/文件名格式组合好。这样后续在导入视频流服务器或者播放器的时候可以直接显示视频画报和介绍信息。</p>
<h4 id="播放器kodihttpskoditv">播放器：<a href="https://kodi.tv/">Kodi</a></h4>
<p>kodi 是个主要在<strong>电视</strong>上用的程序。安装的话，一般电视自带的市场里没有，需要在电脑上下载，拷进U盘安装到电视里。</p>
<p>优点：免费且不需要服务端，可以直接从NAS里读取资源。tinymediamanager 可以直接将视频信息修改成kodi需要的格式。</p>
<p>缺点：没有移动端程序。</p>
<p>kodi 本身提供一个 python 实现的在线刮削器，但是考虑到局域网不能联网的情况，还是使用本地刮削信息比较好。</p>
<p>相对于 plex、emby、jellyfin 这种需要服务端的方式，kodi 使用更简洁并且不需要任何费用。且在 NAS 休眠的时候，打开 kodi 后可以自己唤醒。</p>
<p>移动端可以使用 infuse，目前发现它对于剧集的识别和kodi不太一样。目前我也没找到其他更好的播放器。</p>
<p><strong>注意：</strong> kodi 默认的字体没有中文，所以如果没有修改字体就直接修改语言，会乱码。需要先在interface设置里更换字体。</p>
<h4 id="内嵌字幕问题">内嵌字幕问题</h4>
<p>目前主流的视频格式是 mkv 和 mp4，两种格式都是多轨道的。</p>
<p>一般资源站都会提供硬编码中字版本，对于没有的，可以选择下载单独的字幕同文件名保存，部分播放器可以自动识别，有些不能自动识别的也可以手动加载。</p>
<p>更好的保存方式是通过 ffmepg 命令的方式添加一条轨道合成进去。具体的指令自己学习即可。当然也可以合成硬字幕，会很慢。软合成就跟复制文件差不多。</p>
<p>ffmpeg 命令行附带了多个工具，例如使用 <code>ffprobe -i</code>  可以查看视频具体的信息。</p>
<h3 id="二音乐">二、音乐</h3>
<p>需要用到的软件：</p>
<ul>
<li>音乐刮削：<a href="https://picard.musicbrainz.org/">MusicBrainz Picard</a></li>
</ul>
<p>音乐相对于视频简单多了，主流的格式就是 mp3 和 flac。kodi 本身也能播放歌曲。</p>
<p>Mac 目前能找到的最好的单独的播放器是 Vox。</p>
<p>如果自建音乐流媒体上，可以使用 <a href="https://github.com/koel/koel">koel</a>，可以用过 docker 安装到 NAS 里，但是它的客户端收费。</p>
<p>这里简单说一下音乐文件编辑的问题，通过 MusicBrainz Picard，搜索音乐相关的信息，选择需要的信息即可。对于专辑也可以整个目录进行搜索编辑。记得选 cn 发行的专辑，不然可能在某些播放器上显示其他语言。</p>
<h3 id="三电子书">三、电子书</h3>
<p>需要用到的软件：</p>
<ul>
<li>图书编辑： <a href="https://calibre-ebook.com/">calibre</a></li>
<li>图书快速预览（浏览器扩展）：<a href="https://chrome.google.com/webstore/detail/epubreader/jhhclmfgfllimlhabjkgkeebkbiadflb">EPUB READER</a></li>
</ul>
<p>电子书我一般使用 epub（版本2）的格式。这个格式兼容性好，之前版本的 iOS 系统自带的图书无法对 3 版本的格式正确分页。</p>
<p>epub 本身由 W3C 管理的标准，其格式本身就是 html+css 组合后加 zip，所以编辑也只需要懂得 html 和 css 的基本语法即可。</p>
<p>calibre 很强大，本身还带图书库的管理功能。但我一般只用 ebook-convert 和 ebook-edit 两个功能。如果是要摸鱼，可以通过 ebook-convert 把书籍转换成 txt 格式，再在 VSCode 上找 txt 高亮扩展即可。也有扩展能直接解析 epub。</p>
<p>市面上能搜到的图书，部分是基于某软件做的，纠错的时候会出现自带字体缺失的问题，自己编辑一下即可。</p>
<p>iOS 的图书能选的字体不多，对于浏览器，我一般使用 <code>STSong</code>，所以一般会给书籍添加这种默认字体。</p>
<p>电子书存储上就没什么讲究，看的时候只需要复制到读书软件里就可以了。</p>
<h3 id="四资源下载">四、资源下载</h3>
<p>影视资源不用多说，名字+1080p+下载，搜索上找一找。这是传统方式。</p>
<p>长期稳定+最新的方式是加入一些电报群，用电报+阿里云盘的关键词搜一搜。加入之后不用关注消息，需要资源的时候直接在搜索框搜索即可。</p>
<p>mp3 同上。</p>
<p>对于图书，有一些特定的网站，这些网站资源一般会链接到城某网盘，网盘限速，但是页面相对干净，图书本身又不大，所以速度还好。小众且稳定的有一个<strong>鸠摩搜索</strong>。电报同样有图书资源频道。</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
            <line x1="7" y1="7" x2="7" y2="7"></line>
          </svg><span class="tag"><a href="https://0x1.im/tags/life/">life</a></span>
        </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1660 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        2022-11-01 20:53
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>

        <div class="pagination__buttons">
          

          
            <span class="button next">
              <a href="https://0x1.im/posts/2020-07-08-a-json-toys/">
                <span class="button__text">使用 Golang 实现一个 JSON 命令行工具</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            
            
            <span></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.188af889e916d7182e7bf4af7bed9ff4c9b70dd61a69188cb044d25745a4ffc32b82cbec846336503520a7716e619cb46848931205cfa3176a691ff9152d4947.js" integrity="sha512-GIr4iekW1xgue/Sve&#43;2f9Mm3DdYaaRiMsETSV0Wk/8MrgsvshGM2UDUgp3FuYZy0aEiTEgXPoxdqaR/5FS1JRw=="></script>



    </body>
</html>
